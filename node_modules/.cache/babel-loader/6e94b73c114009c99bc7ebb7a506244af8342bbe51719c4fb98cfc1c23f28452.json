{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{useSelector}from\"react-redux\";import ThumbsUpIconFill from\"./like-filled.svg\";import ThumbsDownIconFill from\"./unlike-filled.svg\";import Copy from\"./copy.svg\";import\"./SummaryCard.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SummaryCard=_ref=>{let{content,contentRaw,timestamp,widgetType,children}=_ref;const[upClicked,setUpClicked]=useState(false);const[downClicked,setDownClicked]=useState(false);const cardEl=useRef(null);const[copyClicked,setCopyClicked]=useState(false);const{orgId,agentId,aniId}=useSelector(state=>state.sessionVariables);useEffect(()=>{if(cardEl.current){var _cardEl$current$shado;const style=document.createElement(\"style\");style.innerHTML=\".md-card-content { height: auto !important; }\";(_cardEl$current$shado=cardEl.current.shadowRoot)===null||_cardEl$current$shado===void 0?void 0:_cardEl$current$shado.appendChild(style);}// console.info(\"Summary Card, content\", content);\n},[]);async function trackFeedback(){let upClicked=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let downClicked=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;console.info(\"click\",upClicked);if(upClicked){setUpClicked(true);setDownClicked(false);}if(downClicked){setUpClicked(false);setDownClicked(true);}}function copyToClipboard(){console.info(\"copy clicked\",contentRaw);navigator.clipboard.writeText(contentRaw);setCopyClicked(true);}return/*#__PURE__*/_jsxs(\"div\",{tabIndex:0,\"aria-label\":contentRaw,className:\"summary-card-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"content-description\",children:Array.from(content.entries()).map(_ref2=>{let[key,value]=_ref2;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"400\",fontSize:\"14px\"},dangerouslySetInnerHTML:{__html:value}})},key);})}),/*#__PURE__*/_jsxs(\"div\",{slot:\"footer\",style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",gap:\"0rem\",width:\"100%\",borderTop:\"1px solid #B2B2B2\",paddingTop:\"5px\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"time-data\",children:[/*#__PURE__*/_jsx(\"time\",{\"aria-hidden\":\"true\",dateTime:timestamp,style:{fontWeight:\"400\",fontSize:\"14px\",marginRight:\"0.5rem\"},children:timestamp}),/*#__PURE__*/_jsx(\"span\",{style:{marginRight:\"0.5rem\"},children:\"\\u2022\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",marginRight:\"auto\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{paddingRight:\"5px\"},onClick:()=>trackFeedback(true,false),children:/*#__PURE__*/_jsx(\"img\",{alt:\"logo\",width:\"32\",height:\"32\",src:ThumbsUpIconFill})}),/*#__PURE__*/_jsx(\"div\",{onClick:()=>trackFeedback(false,true),children:/*#__PURE__*/_jsx(\"img\",{alt:\"logo\",width:\"32\",height:\"32\",src:ThumbsDownIconFill})})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:\"auto\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"momentum-design-feedback-icon_16\",onClick:()=>copyToClipboard(),children:/*#__PURE__*/_jsx(\"img\",{alt:\"logo\",width:\"16\",height:\"16\",src:Copy})})})]})]});};export default SummaryCard;","map":{"version":3,"names":["React","useEffect","useRef","useState","useSelector","ThumbsUpIconFill","ThumbsDownIconFill","Copy","jsx","_jsx","jsxs","_jsxs","SummaryCard","_ref","content","contentRaw","timestamp","widgetType","children","upClicked","setUpClicked","downClicked","setDownClicked","cardEl","copyClicked","setCopyClicked","orgId","agentId","aniId","state","sessionVariables","current","_cardEl$current$shado","style","document","createElement","innerHTML","shadowRoot","appendChild","trackFeedback","arguments","length","undefined","console","info","copyToClipboard","navigator","clipboard","writeText","tabIndex","className","Array","from","entries","map","_ref2","key","value","fontWeight","fontSize","dangerouslySetInnerHTML","__html","slot","display","justifyContent","alignItems","gap","width","borderTop","paddingTop","dateTime","marginRight","paddingRight","onClick","alt","height","src","marginLeft"],"sources":["/Users/ratbalas/Documents/Projects/temp/ai-assistant.github.io/src/components/SummaryCard/SummaryCard.tsx"],"sourcesContent":["import React, { FC, useEffect, useRef, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport ThumbsUpIconFill from \"./like-filled.svg\";\nimport ThumbsDownIconFill from \"./unlike-filled.svg\";\nimport Copy from \"./copy.svg\";\nimport \"./SummaryCard.css\";\nimport { RootState } from \"../../Store\";\n\ninterface SummaryCardProps {\n  content: Map<string, string>;\n  contentRaw: string;\n  timestamp: string;\n  widgetType: string;\n  children?: React.ReactNode;\n}\n\nconst SummaryCard: FC<SummaryCardProps> = ({\n  content,\n  contentRaw,\n  timestamp,\n  widgetType,\n  children,\n}) => {\n  const [upClicked, setUpClicked] = useState(false);\n  const [downClicked, setDownClicked] = useState(false);\n  const cardEl = useRef<HTMLElement>(null);\n  const [copyClicked, setCopyClicked] = useState(false);\n  const { orgId, agentId, aniId } = useSelector(\n    (state: RootState) => state.sessionVariables\n  );\n\n  useEffect(() => {\n    if (cardEl.current) {\n      const style = document.createElement(\"style\");\n      style.innerHTML = \".md-card-content { height: auto !important; }\";\n      cardEl.current.shadowRoot?.appendChild(style);\n    }\n    // console.info(\"Summary Card, content\", content);\n  }, []);\n\n  async function trackFeedback(upClicked = false, downClicked = false) {\n    console.info(\"click\", upClicked);\n\n    if (upClicked) {\n      setUpClicked(true);\n      setDownClicked(false);\n    }\n    if (downClicked) {\n      setUpClicked(false);\n      setDownClicked(true);\n    }\n  }\n  function copyToClipboard() {\n    console.info(\"copy clicked\", contentRaw);\n    navigator.clipboard.writeText(contentRaw);\n    setCopyClicked(true);\n  }\n  return (\n    <div\n      tabIndex={0}\n      aria-label={contentRaw}\n      className=\"summary-card-container\"\n    >\n      <div className=\"content-description\">\n        {Array.from(content.entries()).map(([key, value]) => (\n          <div key={key}>\n            <span\n              style={{ fontWeight: \"400\", fontSize: \"14px\" }}\n              dangerouslySetInnerHTML={{ __html: value }}\n            />\n          </div>\n        ))}\n      </div>\n      {/* footer */}\n      <div\n        slot=\"footer\"\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          gap: \"0rem\",\n          width: \"100%\",\n          borderTop: \"1px solid #B2B2B2\",\n          paddingTop: \"5px\",\n        }}\n      >\n        <div className=\"time-data\">\n          <time\n            aria-hidden=\"true\"\n            dateTime={timestamp}\n            style={{\n              fontWeight: \"400\",\n              fontSize: \"14px\",\n              marginRight: \"0.5rem\",\n            }}\n          >\n            {timestamp}\n          </time>\n          <span style={{ marginRight: \"0.5rem\" }}>&#8226;</span>{\" \"}\n          {/* Dot separator */}\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            marginRight: \"auto\",\n          }}\n        >\n          <div\n            style={{\n              paddingRight: \"5px\",\n            }}\n            onClick={() => trackFeedback(true, false)}\n          >\n            <img alt=\"logo\" width=\"32\" height=\"32\" src={ThumbsUpIconFill} />\n          </div>\n          <div onClick={() => trackFeedback(false, true)}>\n            <img alt=\"logo\" width=\"32\" height=\"32\" src={ThumbsDownIconFill} />\n          </div>\n        </div>\n        <div style={{ marginLeft: \"auto\" }}>\n          <div\n            className=\"momentum-design-feedback-icon_16\"\n            onClick={() => copyToClipboard()}\n          >\n             <img alt=\"logo\" width=\"16\" height=\"16\" src={Copy} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SummaryCard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}